{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Profile</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <style>
    <!--  -->

    h1, h2 {
      text-align: center;
      margin-bottom: 0.5em;
      color: #0d6efd;
      font-weight: 700;
      animation: fadeInDown 1s ease-in-out;
    }

    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .navbar {
      background-color: #ffffff;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.07);
    }

    .navbar-brand {
      font-weight: bold;
      font-size: 1.4rem;
      color: #0d6efd;
    }

    .nav-link {
      color: #343a40;
      transition: color 0.3s ease-in-out;
    }

    .nav-link:hover {
      color: #0d6efd;
    }

    .dropdown-menu {
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .card {
      background-color: #ffffff;
      border-radius: 15px;
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
      margin: 30px auto;
      padding: 20px;
      animation: fadeInUp 1s ease;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    table {
      background-color: #fff;
      margin: 30px auto;
      width: 95%;
      border-collapse: collapse;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 0 12px rgba(0, 0, 0, 0.05);
    }

    thead th {
      background-color: #0d6efd;
      color: black;
      text-align: center;
      font-size: 16px;
    }

    td, th {
      padding: 14px;
      text-align: center;
      border-bottom: 1px solid #dee2e6;
      font-size: 15px;
    }

    tbody tr:hover {
      background-color: #f1f5ff;
    }

    .card-title {
      color: #0d6efd;
      font-weight: bold;
      margin-bottom: 1rem;
    }

    .img-fluid {
      border-radius: 10px;
      margin: 15px;
    }

    h4 {
      text-align: center;
      font-weight: bold;
      color: #0d6efd;
    }

    .navbar-nav .dropdown-menu .dropdown-item:hover {
      background-color: #f0f8ff;
    }

    @media screen and (max-width: 768px) {
      h1, h2 {
        font-size: 1.25rem;
      }

      .card {
        margin: 20px 15px;
        padding: 20px;
      }

      table {
        font-size: 14px;
      }

      td, th {
        padding: 10px;
      }
    }
  </style>  
  </head>
  <body>
    <h1 style="text-align: center">
      National Institute of Technology, Andhra Pradesh
    </h1>
    <h2 style="text-align: center">Placement Portal</h2>
    <!-- nav bar -->
    <nav class="navbar navbar-expand-lg bg-light">
      <div class="container-fluid">
        <a class="navbar-brand" href="stats">Statistics</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarScroll"
          aria-controls="navbarScroll"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarScroll">
          <ul
            class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll"
            style="--bs-scroll-height: 100px"
          >
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="/">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="home_page_view">Data Query Portal</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/">Register for Placements</a>
            </li>
          </ul>
          <ul class="navbar-nav ms-auto d-flex align-items-center">
            {% if user.is_authenticated %}
              <!-- Greeting -->
              <li class="nav-item">
                <a class="nav-link active" style="color: blueviolet">
                  Hello {{ user.first_name }} !!
                </a>
              </li>

              <!-- Profile dropdown -->
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <img
                    src="{% static 'images/profile.png' %}"
                    class="rounded-circle"
                    alt="Profile"
                    width="35"
                    height="35"
                  />
                </a>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                  <li><a class="dropdown-item" href="profile">Profile</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="{% url 'logout' %}">Logout</a></li>
                </ul>
              </li>

            {% else %}
              <!-- Login dropdown -->
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Login
                </a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="login">Student Login</a></li>
                  <li><a class="dropdown-item" href="tplogin">T&P Login</a></li>
                </ul>
              </li>

              <!-- Register link -->
              <li class="nav-item">
                <a class="nav-link" href="register">Register</a>
              </li>
            {% endif %}
          </ul>
        </div>
      </div>
    </nav>
    <!-- edit option -->
    <div style="text-align: right;" >
      <a href="editprofile" >
        <button type="button" class="btn btn-primary">Edit Profile</button>
      </a>
    </div>
    <!-- student details -->
    <div class="card mb-3" style="max-width: 100%; max-height: 210%">
      <div class="row g-0">
        <div class="col-md-4">
          <!-- profile pic -->
          <img
            src="{{student.profilepic}}"
            class="img-fluid rounded-start"
            alt="..."
          />
        </div>
        <div class="col-md-8">
          <div class="card-body">
            <h4 class="card-title">Student Details</h4>
            <table class="table">
              <tr>
                <th>Name</th>
                <td>{{ student.name }}</td>
              </tr>
              <tr>
                <th>Roll No</th>
                <td>{{ student.roll_no }}</td>
              </tr>
              <tr>
                <th>Branch</th>
                <td>{{ student.branch }}</td>
              </tr>
              <tr>
                <th>Secondary Email</th>
                <td>{{ student.email }}</td>
              </tr>
              <tr>
                <th>Year of Passing</th>
                <td>{{ student.academic_year }}</td>
              </tr>
              <tr>
                <th>Mobile Number</th>
                <td>{{ student.mobile }}</td>
              </tr>
              <tr>
                <th>Current CGPA</th>
                <td>{{ student.cgpa }}</td>
              </tr>
              <tr>
                <th>Gate Rank</th>
                <td>{{ student.gate_rank }}</td>
              </tr>
              <tr>
                <th>No. of Active Backlogs</th>
                <td>{{ student.backlogs }}</td>
              </tr>
              <tr>
                <th>Field of Interest</th>
                <td>{{ student.job_type }}</td>
              </tr>
              <tr>
                <th>Placed</th>
                <td>{{ student.placed }}</td>
              </tr>
              <tr>
                <th>LinkedIn Profile Link</th>
                <td>{{ student.linkedin }}</td>
              </tr>
              <tr>
                <th>Registered for Placement</th>
                <td>{{ student.registered }}</td>
              </tr>
              <tr>
                <th>Verified by T&P</th>
                <td>{{ student.verified }}</td>
              </tr>
              <tr>
                <th>Remarks given by T&P</th>
                <td>{{ student.remarks }}</td>
              </tr>
            </table>

            <p class="card-text">
              <small class="text-body-secondary"
                >Last updated {{student.updated_at}}</small
              >
            </p>
          </div>
        </div>
      </div>
    </div>
    

    <!-- placement details -->
    <h4>Placement Details</h5>
    <div>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">S.NO</th>
            <th scope="col">Company Name</th>
            <th scope="col">Applied</th>
            <th scope="col">CV Screening</th>
            <th scope="col">Aptitude Test</th>
            <th scope="col">GD</th>
            <th scope="col">Coding Test</th>
            <th scope="col">Technical Interview</th>
            <th scope="col">HR Interview</th>
            <th scope="col">Status</th>
          </tr>
        </thead>
        <tbody>
          {%for s in send%}
          <tr>
            <th scope="row">1</th>
            <td>{{s.companyName}}</td>
            <td>
              {% if s.level > 1 %}‚úîÔ∏è{% elif s.level == 1 %}üü¢{% else %}‚ùå
              {%endif %}
            </td>
            <td>
              {% if s.level > 2 %}‚úîÔ∏è{% elif s.level == 2 %}üü¢{% else %}‚ùå
              {%endif %}
            </td>
            <td>
              {% if s.level > 3 %}‚úîÔ∏è{% elif s.level == 3 %}üü¢{% else %}‚ùå
              {%endif %}
            </td>
            <td>
              {% if s.level > 4 %}‚úîÔ∏è{% elif s.level == 4 %}üü¢{% else %}‚ùå
              {%endif %}
            </td>
            <td>
              {% if s.level > 5 %}‚úîÔ∏è{% elif s.level == 5 %}üü¢{% else %}‚ùå
              {%endif %}
            </td>
            <td>
              {% if s.level > 6 %}‚úîÔ∏è{% elif s.level == 6 %}üü¢{% else %}‚ùå
              {%endif %}
            </td>
            <td>
              {% if s.level > 7 %}‚úîÔ∏è{% elif s.level == 7 %}üü¢{% else %}‚ùå
              {%endif %}
            </td>
            <td>{{s.status}}</td>
          </tr>
          {%endfor%}
        </tbody>
      </table>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
